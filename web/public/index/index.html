{{ define "body" }}
<div class="container found">
    <hgroup>
        {{ $count := 0}}
        {{ range .trails }}
        {{ $count = (add $count .Found) }}
        {{ end }}
        <h1>Found {{ $count }}/{{ len .pages }}</h1>
        <h2>Otago Museum</h2>
    </hgroup>
</div>
<main class="container">
    <hgroup>
        <h1>QR Trails</h1>
        <h2>A peek behind the scenes</h2>
    </hgroup>
    {{ template "flash" . }}

    <p>Find and scan the <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-qr-code-scan" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0v-3Zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5ZM.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5Zm15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5ZM3 3h3v3H3V3Zm0 7h3v3H3v-3Zm7-7h3v3h-3V3ZM7 2H2v5h5V2Zm0 7H2v5h5V9Zm2-7h5v5H9V2ZM4 4h1v1H4V4Zm7 0h1v1h-1V4Zm-6 7H4v1h1v-1Zm3.5-3H8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8H8.5Zm1.5 2V9H9v1h1Zm4 3.5V12h-1v1h-2v1h3v-.5Zm-4 .5v-1H8v1h2Zm2-5h2V8h-2v1Z"/>
    </svg> QR Codes to learn more about hidden science behind these objects.</p>

    <div class="list-clues">
        {{ range .pages }}
        {{ if .Seen}}
        <div class="clue seen">
            <div class="icon ticked">
                <img src="/public/img/icon/unlock.svg">
            </div>
            <a href="{{ .Code}}" >
                <span>
                    {{ .Title }}
                </span>
            </a>
        </div>
        {{ else }}
        <div class="clue seen">
            <div class="icon">
                <img src="/public/img/icon/lock.svg">
            </div>
            <div class="not-found">
                <span>
                    {{ .Title }}
                </span>
            </div>
        </div>
        {{ end }}
        {{ end }}
    </div>

    <p>Click to "find":</p>
    <ul>
        {{ range .pages }}
        {{ if not .Seen }}
        <li>
            <a href="{{ url (print "s/" .Code) }}">{{ .Title }}</a>
        </li>
        {{ end }}
        {{ end }}
    </ul>
</main>
<style>
    .clue {
        display: flex;
        background: #2f2f2f;
        margin-bottom: var(--spacing);
    }
    .clue div {
        padding: 0.5em;
        display: flex;
        color: var(--primary);
    }
    .clue a, .clue .not-found {
        width: 100%;
        display: flex;
        padding: 0.5em 1em;
        color: var(--primary);
    }
    .clue span {
        align-self: center;
        padding: 0;
        margin: 0;
        line-height: 1;
        font-size: 1em;
    }
    .clue:not(.seen) span, .icon:not(.ticked), .clue div span {
        background: gray;
        color: transparent;
    }
    .clue img {
        width: 2em;
    }
    .icon.ticked {
        background: var(--primary);
    }
    p svg {
        margin-top: -0.2em;
    }
</style>
{{ end }}